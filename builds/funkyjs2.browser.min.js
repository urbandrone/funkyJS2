/*! funkyjs-2 1.7.1
 *  David Hofmann <the.urban.drone@gmail.com>, MIT license */
/* globals define, module, exports, require */!function(a,b){"function"==typeof define&&define.amd||"object"==typeof exports||(a.funkyJS=b())}(this,function(){return{}}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define([],b);else if("object"==typeof exports)module.exports=b();else{c=b();for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(){var a={};return a.identity=function(a){return a},a.constant=function(a){return function(){return a}},a.cmps=function(a){if("function"!=typeof a)throw new TypeError("funkyJS.cmps: "+a+" is not a function");return function(b){if("function"!=typeof b)throw new TypeError("funkyJS.cmps: "+b+" is not a function");return function(c){return a.call(this,b.call(this,c))}}},a}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(b);else if("object"==typeof exports)module.exports=b();else{c=b();for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(){var a={},b=function(a){return Object.prototype.toString.call(a).toLowerCase()};return a.is=function c(a,d){return arguments.length<1?c:arguments.length<2?function(b){return c(a,b)}:b(d)==="[object "+a+"]"},a.isNull=function d(a){return arguments.length<1?d:null===a},a.isNotNull=function e(a){return arguments.length<1?e:null!==a},a.isVoid=function f(a){return arguments.length<1?f:void 0===a},a.isNotVoid=function g(a){return arguments.length<1?g:void 0!==a},a.isNil=function h(a){return arguments.length<1?h:null==a},a.isNotNil=function i(b){return arguments.length<1?i:!a.isNil(b)},a.isBool=function j(a){return arguments.length<1?j:"boolean"==typeof a},a.isNotBool=function k(b){return arguments.length<1?k:!a.isBool(b)},a.isString=function l(a){return arguments.length<1?l:"string"==typeof a},a.isNotString=function m(b){return arguments.length<1?m:!a.isString(b)},a.isNumber=function n(a){return arguments.length<1?n:"number"==typeof a&&!isNaN(a)&&isFinite(a)},a.isNotNumber=function o(b){return arguments.length<1?o:!a.isNumber(b)},a.isInt32=function p(b){return arguments.length<1?p:a.isNumber(b)&&b%1===0||a.isNumber(b)&&1===b},a.isNotInt32=function q(b){return arguments.length<1?q:!a.isInt32(b)},a.isFloat32=function r(b){return arguments.length<1?r:a.isNumber(b)&&b%1!==0},a.isNotFloat32=function s(b){return arguments.length<1?s:!a.isFloat32(b)},a.isFunction=function t(a){return arguments.length<1?t:"function"==typeof a},a.isNotFunction=function u(b){return arguments.length<1?u:!a.isFunction(b)},a.isArray=function v(a){return arguments.length<1?v:Array.isArray(a)},a.isNotArray=function w(a){return arguments.length<1?w:!Array.isArray(a)},a.isObject=function x(b){return arguments.length<1?x:a.is("object",b)},a.isNotObject=function y(b){return arguments.length<1?y:!a.isObject(b)},a.isDate=function z(b){return arguments.length<1?z:a.is("date",b)},a.isNotDate=function A(b){return arguments.length<1?A:!a.isDate(b)},a.isRegex=function B(b){return arguments.length<1?B:a.is("regexp",b)},a.isNotRegex=function C(b){return arguments.length<1?C:!a.isRegex(b)},a.isNode=function D(b){return arguments.length<1?D:a.isNotNil(b)&&a.isInt32(b.nodeType)},a.isNotNode=function E(b){return arguments.length<1?E:!a.isNode(b)},a.isNodeList=function F(a){return arguments.length<1?F:/^((\[object\s)(html(options)?collection|nodelist)(\]))$/.test(b(a))},a.isNotNodeList=function G(b){return arguments.length<1?G:!a.isNodeList(b)},a.isSequencial=function H(b){return arguments.length<1?H:a.isNotNil(b)&&a.isInt32(b.length)&&a.isNotFunction(b)&&a.isNotObject(b)},a.isNotSequencial=function I(b){return arguments.length<1?I:!a.isSequencial(b)},a.isEnumerable=function J(b){return arguments.length<1?J:a.isObject(b)||a.isSequencial(b)},a.isNotEnumerable=function K(b){return arguments.length<1?K:!a.isEnumerable(b)},a}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["./type"],b);else if("object"==typeof exports)module.exports=b(require("type"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){var b={},c=function(a){return[].slice.apply(a,[].slice.call(arguments,1))};return b.aritize=function d(a,b){var c,e,f,g,h;if(arguments.length<1)return d;if(isNaN(a)||!isFinite(a))throw new Error("aritize expected number as first argument but saw "+a);for(c="return function (",e=") { return fn.apply(this, arguments",f="); }",g="",h=0;a>h;)g+=1>h?"a"+h:", a"+h,h+=1;return b||(e=") { return fn.apply(this, [["+g,f="]]); }"),new Function("fn",c+g+e+f)},b.niladic=function e(b){return arguments.length<1?e:a.isNotFunction(b)?b:function(){return b.call(this)}},b.monadic=function f(b){return arguments.length<1?f:a.isNotFunction(b)?b:function(a){return void 0===a?f(b):b.call(this,a)}},b.dyadic=function g(c){return arguments.length<1?g:a.isNotFunction(c)?c:function(a,d){return void 0===a?g(c):void 0===d?b.monadic(function(b){return c.call(this,a,b)}):c.call(this,a,d)}},b.triadic=function h(c){return arguments.length<1?h:a.isNotFunction(c)?c:function(a,d,e){return void 0===a?h(c):void 0===d?b.dyadic(function(b,d){return c.call(this,a,b,d)}):void 0===e?b.monadic(function(b){return c.call(this,a,d,b)}):c.call(this,a,d,e)}},b.tetradic=function i(c){return arguments.length<1?i:a.isNotFunction(c)?c:function(a,d,e,f){return void 0===a?i(c):void 0===d?b.triadic(function(b,d,e){return c.call(this,a,b,d,e)}):void 0===e?b.dyadic(function(b,e){return c.call(this,a,d,b,e)}):void 0===f?b.monadic(function(b){return c.call(this,a,d,e,b)}):c.call(this,a,d,e,f)}},b.polyadic=function j(d){function e(a){return b.aritize(d.length-a.length,!0)(function(){var b=a.concat(c(arguments));return b.length<2?e(b):d.apply(this,b)})}return arguments.length<1?j:a.isNotFunction(d)?d:e([])},b.variadic=function k(d){var e;return arguments.length<1?k:a.isNotFunction(d)||d.length<1?d:(e=d.length,b.aritize(e,!0)(function(){var a=arguments.length>1?c(arguments,0,e-1):[],b=new Array(Math.max(e-arguments.length-1,0)),f=[c(arguments,e-1)];return d.apply(this,a.concat(b).concat(f))}))},b}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["arity"],b);else if("object"==typeof exports)module.exports=b(require("arity"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){function b(a,b){return function(c,d){return a(c(b(d)),d)}}function c(c,d){var e=function(a){return c(a)};return e.get=c,e.set=a.dyadic(d),e.over=a.dyadic(b(d,c)),e}function d(a){return c(function(b){return b[a]},function(b,c){var d=Object.create(c);return d[a]=b,d})}var e={};return e.makeLense=function(a){if(!Array.isArray(a))throw new Error("makeLense() expects argument to be array but saw: "+a);return a.reduce(function(a,b){return a[b]=d(b),a},{})},e}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["./type"],b);else if("object"==typeof exports)module.exports=b(require("type"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){var b={},c=Object.prototype.hasOwnProperty;return b.has=function d(b,e){return arguments.length<1?d:arguments.length<2?function(a){return d(b,a)}:a.isNotNil(e)&&c.call(e,""+b)},b.get=function e(b,c){var d;return arguments.length<1?e:arguments.length<2?function(a){return e(b,a)}:(d=""+b,a.isNotNil(c)&&a.isNotNil(c[d])?c[d]:null)},b.pluck=function f(c,d){return arguments.length<1?f:arguments.length<2?function(a){return f(c,a)}:a.isArray(d)?d.map(b.get(c)):b.get(c,d)},b.keys=function g(b){return arguments.length<1?g:a.isNotObject(b)?[]:Object.keys(b)},b.values=function h(a){return arguments.length<1?h:b.keys(a).map(function(b){return a[b]})},b.methods=function i(c){return arguments.length<1?i:b.keys(c).filter(function(b){return a.isFunction(c[b])})},b.pairs=function j(a){return arguments.length<1?j:b.keys(a).map(function(b){return[b,a[b]]})},b.inverse=function k(c){var d;return arguments.length<1?k:a.isNotObject(c)?null:(d={},b.keys(c).reduce(function(a,b){return a[String(c[b])]=b,a},d))},b.instance=function(b,c){if(a.isNotFunction(b))throw new Error("instance expected Ctor to be function but saw "+b);return void 0!==c&&b.prototype.isPrototypeOf(c)?c:Object.create(b.prototype)},b.extend=function l(c,d){return arguments.length<1?l:arguments.length<2?function(a){return l(c,a)}:a.isNotObject(c)||a.isNotObject(d)?c:b.keys(d).reduce(function(a,b){return a[b]=d[b],a},c)},b.extendWith=function m(a,c){return arguments.length<1?m:arguments.length<2?function(b){return m(a,b)}:b.extend(c,a)},b.inherits=function n(a,c){return arguments.length<1?n:arguments.length<2?function(b){return n(a,b)}:b.extend(b.extend({},a&&a.prototype||{}),c)},b.delegate=function o(b,c,d){return arguments.length<1||a.isNotObject(b)?o:arguments.length<2||a.isNotObject(c)?function(a,c){return o(b,a,c)}:arguments.length<3||a.isNotArray(d)?function(a){return o(b,c,a)}:(d.forEach(function(d){a.isFunction(b[d])&&(c[d]=function(){return b[d].apply(c,arguments)})}),c)},b.forward=function p(b,c,d){return arguments.length<1||a.isNotObject(b)?p:arguments.length<2||a.isNotObject(c)?function(a,c){return p(b,a,c)}:arguments.length<3||a.isNotArray(d)?function(a){return p(b,c,a)}:(d.forEach(function(d){a.isFunction(c[d])&&(b[d]=function(){return c[d].apply(c,arguments)})}),b)},b}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["./type"],b);else if("object"==typeof exports)module.exports=b(require("type"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){var b={},c=Array.prototype.slice;return b.toArray=function d(b){return arguments.length<1?d:a.isArray(b)?b:a.isNotEnumerable(b)?[b]:a.isString(b)?b.split(""):a.isObject(b)?Object.keys(b).map(function(a){return b[a]}):c.call(b)},b.first=function e(b){return arguments.length<1?e:a.isSequencial(b)&&b.length?b[0]:b},b.last=function f(b){return arguments.length<1?f:a.isSequencial(b)&&b.length?b[b.length-1]:b},b.head=function g(c){return arguments.length<1?g:a.isSequencial(c)&&c.length?b.toArray(c).slice(0,c.length-1):c},b.tail=function h(c){return arguments.length<1?h:a.isSequencial(c)&&c.length?b.toArray(c).slice(1):c},b.nth=function i(b,c){return arguments.length<1?i:arguments.length<2?function(a){return i(b,a)}:((a.isNotNumber(b)||0>b)&&(b=0),a.isSequencial(c)&&c.length>=1?c[b]||null:null)},b.take=function j(c,d){return arguments.length<1?j:arguments.length<2?function(a){return j(c,a)}:(a.isNotNumber(c)&&(c=0),a.isSequencial(d)&&d.length?b.toArray(d).slice(0,Math.min(d.length,c)):d)},b.drop=function k(c,d){return arguments.length<1?k:arguments.length<2?function(a){return k(c,a)}:(a.isNotNumber(c)&&(c=d&&d.length?d.length:1/0),a.isSequencial(d)&&d.length?b.toArray(d).slice(Math.min(d.length,c)):d)},b.append=function l(c,d){return arguments.length<1?l:arguments.length<2?function(a){return l(c,a)}:(c=a.isSequencial(c)?b.toArray(c):[],a.isSequencial(d)?b.toArray(d).concat(c):d)},b.prepend=function m(c,d){return arguments.length<1?m:arguments.length<2?function(a){return m(c,a)}:(c=a.isSequencial(c)?b.toArray(c):[],a.isSequencial(d)?c.concat(b.toArray(d)):d)},b.surround=function n(c,d,e){return arguments.length<1?n:arguments.length<2?function(a,b){return n(c,a,b)}:arguments.length<3?function(a){return n(c,d,a)}:(c=a.isSequencial(c)?b.toArray(c):[],d=a.isSequencial(d)?b.toArray(d):[],a.isSequencial(e)?c.concat(b.toArray(e)).concat(d):e)},b.unique=function o(c){var d;return arguments.length<1?o:(d=[],c=a.isSequencial(c)?b.toArray(c):[],c.forEach(function(a){d.indexOf(a)<0&&d.push(a)}),d)},b.flatten=function(){function c(a,b){return a.length<1?b:function(){return Array.isArray(a[0])?c(a[0].concat(a.slice(1)),b):c(a.slice(1),b.concat(a[0]))}}return function d(e){var f=b.toArray(e);if(arguments.length<1)return d;for(f=c(e,[]);a.isFunction(f);)f=f();return f}}(),b.union=function p(c,d){return arguments.length<1?p:arguments.length<2?function(a){return p(c,a)}:(c=a.isSequencial(c)?b.toArray(c):[],d=a.isSequencial(d)?b.toArray(d):[],b.unique(c.concat(d)))},b.intersect=function q(c,d){return arguments.length<1?q:arguments.length<2?function(a){return q(c,a)}:(c=a.isSequencial(c)?b.unique(b.toArray(c)):[],d=a.isSequencial(d)?b.unique(b.toArray(d)):[],d.length>c.length?d.filter(function(a){return c.indexOf(a)>=0}):c.filter(function(a){return d.indexOf(a)>=0}))},b.difference=function r(c,d){return arguments.length<1?r:arguments.length<2?function(a){return r(c,a)}:(c=a.isSequencial(c)?b.toArray(c):[],d=a.isSequencial(d)?b.toArray(d):[],b.union(c,d).filter(function(a){return c.indexOf(a)<0||d.indexOf(a)<0}))},b}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["./type","./arity"],b);else if("object"==typeof exports)module.exports=b(require("type"),require("arity"));else{c=b(a.funkyJS,a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a,b){var c={},d=function(a){return[].slice.apply(a,[].slice.call(arguments,1))};return c.flip=function e(c){function f(a){return b.aritize(c.length-a.length,!0)(function(){var b=a.concat(d(arguments));return b.length<c.length?f(b):c.apply(this,b.reverse())})}if(arguments.length<1)return e;if(a.isNotFunction(c))throw new Error("Expected to wrap a function with flip but saw "+c);return f([])},c.fluent=function f(c){if(arguments.length<1)return f;if(a.isNotFunction(c))throw new Error("Expected to wrap a function with fluent but saw "+c);return b.aritize(c.length,!0)(function(){return c.apply(this,arguments),this})},c.guard=function g(c,d){if(arguments.length<1)return g;if(arguments.length<2)return function(a){return g(c,a)};if(a.isNotFunction(c))throw new Error("Expected to guard with a function but saw "+c);if(a.isNotFunction(d))throw new Error("Expected to guard a function but saw "+d);return b.aritize(d.length,!0)(function(){return c.apply(null,arguments)?d.apply(this,arguments):null})},c.maybe=function h(c){if(arguments.length<1)return h;if(a.isNotFunction(c))throw new Error("Expected to maybe execute a function but saw "+c);return b.aritize(c.length)(function(b){return b.every(a.isNotNil)?c.apply(this,b):null})},c.not=function i(c){if(arguments.length<1)return i;if(a.isNotFunction(c))throw new Error("Expected to negate a function but saw "+c);return b.aritize(c.length,!0)(function(){return!c.apply(this,arguments)})},c.debounce=function j(c,d){var e;if(arguments.length<1)return j;if(arguments.length<2){if(a.isInt32(c))return function(a){return j(c,a)};if(a.isNotFunction(c))throw new Error("Expected to debounce a function but saw "+c+" / "+d);d=c,c=250}if(a.isNotInt32(c))throw new Error("Ticks to debounce must be given as 32 bit integer");if(a.isNotFunction(d))throw new Error("Expected to debounce a function but instead saw "+d);return b.aritize(d.length)(function(){var b=arguments;clearTimeout(e),e=setTimeout(function(){d.apply(this,b)}.bind(this),a.isInt32(c)?c:250)})},c.memoize=function k(b){function c(){var d=JSON.stringify(arguments);return a.isNil(c.cache[d])&&(c.cache[d]=b.apply(this,arguments)),c.cache[d]}if(arguments.length<1)return k;if(a.isNotFunction(b))throw new Error("Expected to memoize a function but saw "+b);return c.cache={},c},c.curry=function l(b){function c(a){return function(d){var e=a.concat(d);return e.length<b.length?c(e):b.apply(this,e)}}if(arguments.length<1)return l;if(a.isNotFunction(b))throw new Error("Expected to curry a function but saw "+b);return c(arguments.length>1?[arguments[1]]:[])},c.curryRight=function m(b){function c(a){return function(d){var e=a.concat(d);return e.length<b.length?c(e):b.apply(this,e.reverse())}}if(arguments.length<1)return m;if(a.isNotFunction(b))throw new Error("Expected to curryRight a function but saw "+b);return c(arguments.length>1?[arguments[1]]:[])},c.partial=function n(c,e){function f(a,d){return b.aritize(d)(function(b){var e,g;return g=d,e=a.map(function(a){var c;return void 0!==a?a:(c=b.shift(),void 0!==c&&(g-=1),c)}),g>0?f(e,g):c.apply(this,e)})}var g,h;if(arguments.length<1)return n;if(a.isNotFunction(c))throw new Error("partial expected to see a function but saw "+c);for(arguments.length<2?e=[]:Array.isArray(e)||(e=d(arguments,1)),g=c.length,h=0;h<c.length;h+=1)void 0!==e[h]?g-=1:e[h]=void 0;return f(e,g)},c.partialRight=function o(c,e){function f(a,d){return b.aritize(d)(function(b){var e,g;return g=d,e=a.map(function(a){var c;return void 0!==a?a:(c=b.shift(),void 0!==c&&(g-=1),c)}),g>0?f(e,g):c.apply(this,e.reverse())})}var g,h;if(arguments.length<1)return o;if(a.isNotFunction(c))throw new Error("partialRight expected to see a function but saw "+c);for(arguments.length<2?e=[]:Array.isArray(e)||(e=d(arguments,1)),g=c.length,h=0;h<c.length;h+=1)void 0!==e[h]?g-=1:e[h]=void 0;return f(e,g)},c.call=function p(c){var e;if(void 0===c)return p;if(a.isNotFunction(c))throw new Error("call expected to see a function but saw "+c);return e=d(arguments,1),b.aritize(c.length+1,!0)(function(a){return c.apply(a,e.concat(d(arguments,1)))})},c.callRight=function q(c){var e;if(void 0===c)return q;if(a.isNotFunction(c))throw new Error("callRight expected to see a function but saw "+c);return e=d(arguments,1),b.aritize(c.length+1,!0)(function(a){return c.apply(a,e.concat(d(arguments,1)).reverse())})},c.defaults=function r(c,d){if(arguments.length<1)return r;if(a.isNotFunction(c))throw new Error("defaults expected to see a function but saw "+c);if(a.isNotArray(d))return c;if(d.length<c.length)throw new Error("defaults misses parameters, expected "+c.length+" but saw "+d.length);return b.aritize(c.length)(function(b){return c.apply(this,d.map(function(c,d){return d<b.length&&a.isNotVoid(b[d])?b[d]:c}))})},c}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["./type","./arity"],b);else if("object"==typeof exports)module.exports=b(require("type"),require("arity"));else{c=b(a.funkyJS,a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a,b){var c={},d=function(a){return[].slice.apply(a,[].slice.call(arguments,1))},e=function(a,b){return!!b.apply(this,a)};return c.compose=function f(){var c;if(arguments.length<1)return f;if(c=d(arguments).filter(a.isFunction),c.length<1)throw new Error("Expected at least one function to compose but found none");return b.aritize(c[c.length-1].length)(function(a){return c.reduceRight(function(a,b){return[b.apply(this,a)]},a,this)[0]})},c.pipe=function g(){var c;if(arguments.length<1)return g;if(c=d(arguments).filter(a.isFunction),c.length<1)throw new Error("Expected at least one function to pipe but found none");return b.aritize(c[0].length)(function(a){return c.reduce(function(a,b){return[b.apply(this,a)]},a,this)[0]})},c.and=function h(){var c,f;if(arguments.length<1)return h;if(c=d(arguments).filter(a.isFunction),f=Math.max.apply(Math,c.map(function(a){return a.length})),c.length<1)throw new Error("and expected at least two functions but found none");return b.aritize(f)(function(a){return c.every(e.bind(this,a))})},c.or=function i(){var c,f;if(arguments.length<1)return i;if(c=d(arguments).filter(a.isFunction),f=Math.max.apply(Math,c.map(function(a){return a.length})),c.length<1)throw new Error("or expected at least two functions but found none");return b.aritize(f)(function(a){return c.some(e.bind(this,a))})},c.splat=function j(c){if(arguments.length<1)return j;if(a.isNotArray(c)||c.some(a.isNotFunction))throw new Error("splat expected arguments to be array of functions but saw "+c);return b.aritize(c.reduce(function(a,b){return Math.max(a,b.length)},0))(function(a){return c.map(function(b){return b.apply(this,a)},this)})},c});