/*! funkyjs-2 1.7.1
 *  David Hofmann <the.urban.drone@gmail.com>, MIT license */
/* globals define, module, exports, require */!function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["../type","../arity"],b);else if("object"==typeof exports)module.exports=b(require("type"),require("arity"));else{c=b(a.funkyJS,a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a,b){var c={},d=function(a){return[].slice.apply(a,[].slice.call(arguments,1))};return c.composeAsync=function e(){var c;if(arguments.length<1)return e;if(c=d(arguments).filter(a.isFunction),c.length<1)throw new Error("Expected at least one function to compose but found none");return b.triadic(function(a,b,d){var e=this;c.reduceRight(function(a,b){return function(c,d,f){b.call(e,c,function(b){a.call(e,b,d,f)},f)}}).call(this,a,b,d)})},c.pipeAsync=function f(){var c;if(arguments.length<1)return f;if(c=d(arguments).filter(a.isFunction),c.length<1)throw new Error("Expected at least one function to pipe but found none");return b.triadic(function(a,b,d){var e=this;c.reduce(function(a,b){return function(c,d,f){a.call(e,c,function(a){b.call(e,a,d,f)},f)}}).call(this,a,b,d)})},c.liftAsync=function g(c){if(arguments.length<1)return g;if(a.isNotFunction(c))throw new Error("liftAsync can only be called on functions");return b.triadic(function(b,d,e){if(a.isNotFunction(d))throw new Error("Invalid continuation function: "+d);try{d.call(this,c.call(this,b))}catch(f){a.isFunction(e)&&e(f)}})},c.sideEffect=function h(c){if(arguments.length<1)return h;if(a.isNotFunction(c))throw new Error("sideEffect can only be called on functions");return b.triadic(function(b,d,e){if(a.isNotFunction(d))throw new Error("Invalid continuation function: "+d);try{c.call(this,b)}catch(f){a.isFunction(e)&&e(f)}finally{d.call(this,b)}})},c});