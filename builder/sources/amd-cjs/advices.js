/*! funkyjs-2 2.1.0
 *  David Hofmann <the.urban.drone@gmail.com>, MIT license */
/* globals define, module, exports, require */
!function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["../type","../arity"],b);else if("object"==typeof exports)module.exports=b(require("type"),require("arity"));else{c=b(a.funkyJS,a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a,b){function c(a,b){return b.__funkyAdviced__||Object.defineProperties(b,{__funkyAdviced__:{enumerable:!1,writable:!1,value:!0},befores:{enumerable:!1,writable:!1,value:[]},body:{enumerable:!1,writable:!1,value:a},throwings:{enumerable:!1,writable:!1,value:[]},afters:{enumerable:!1,writable:!1,value:[]},adviceBefore:{enumerable:!1,writable:!1,value:function(a){return this.befores.unshift(a),this}},adviceError:{enumerable:!1,writable:!1,value:function(a){return this.throwings.push(a),this}},adviceAfter:{enumerable:!1,writable:!1,value:function(a){return this.afters.push(a),this}}}),b}var d={};return d.advisable=function e(d){var f;if(arguments.length<1)return e;if(!a.isFunction(d))throw"advisable expects fn to be function but saw "+d;return f=c(d,b.aritize(d.length)(function(b){var c=b,d=this;try{f.befores.forEach(function(b){var e=b.apply(d,c);a.isArray(e)&&(c=e)}),c=[f.body.apply(this,c),c],f.afters.forEach(function(a){a.apply(d,c)})}catch(e){return f.throwings.forEach(function(a){a.call(d,e,c)})}return c[0]}))},d});