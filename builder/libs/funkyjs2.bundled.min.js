/*! funkyjs-2 2.1.0
 *  David Hofmann <the.urban.drone@gmail.com>, MIT license */
/* globals define, module, exports, require */
!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.funkyJS=b()}(this,function(){var a=Object.create(null);return a.identity=function(a){return a},a.constant=function(a){return function(){return a}},a.tap=function(a){return function(b){return b.call(this,a)}},a.cmps=function(a){if("function"!=typeof a)throw"funkyJS.cmps: "+a+" is not a function";return function(b){if("function"!=typeof b)throw"funkyJS.cmps: "+b+" is not a function";return function(c){return a.call(this,b.call(this,c))}}},a}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(b);else if("object"==typeof exports)module.exports=b();else{c=b();for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(){var a={},b=function(a){return Object.prototype.toString.call(a).toLowerCase()};return a.is=function c(a,d){return arguments.length<1?c:arguments.length<2?function(b){return c(a,b)}:b(d)==="[object "+a+"]"},a.isNull=function d(a){return arguments.length<1?d:null===a},a.isVoid=function e(a){return arguments.length<1?e:void 0===a},a.isNil=function f(a){return arguments.length<1?f:null==a},a.isBool=function g(a){return arguments.length<1?g:"boolean"==typeof a},a.isString=function h(a){return arguments.length<1?h:"string"==typeof a},a.isNumber=function i(a){return arguments.length<1?i:"number"==typeof a&&!isNaN(a)&&isFinite(a)},a.isInt32=function j(b){return arguments.length<1?j:a.isNumber(b)&&b%1===0||a.isNumber(b)&&1===b},a.isFloat32=function k(b){return arguments.length<1?k:a.isNumber(b)&&b%1!==0},a.isFunction=function l(a){return arguments.length<1?l:"function"==typeof a},a.isArray=function m(a){return arguments.length<1?m:Array.isArray(a)},a.isObject=function n(b){return arguments.length<1?n:a.is("object",b)},a.isDate=function o(b){return arguments.length<1?o:a.is("date",b)},a.isRegex=function p(b){return arguments.length<1?p:a.is("regexp",b)},a.isNode=function q(b){return arguments.length<1?q:!a.isNil(b)&&a.isInt32(b.nodeType)},a.isNodeList=function r(a){return arguments.length<1?r:/^((\[object\s)(html(options)?collection|nodelist)(\]))$/.test(b(a))},a.isSequencial=function s(b){return arguments.length<1?s:!a.isNil(b)&&a.isInt32(b.length)&&!a.isFunction(b)&&!a.isObject(b)},a.isEnumerable=function t(b){return arguments.length<1?t:a.isObject(b)||a.isSequencial(b)},a}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["./type"],b);else if("object"==typeof exports)module.exports=b(require("type"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){var b={},c=function(a){return[].slice.apply(a,[].slice.call(arguments,1))};return b.aritize=function d(a,b){var c,e,f,g,h;if(arguments.length<1)return d;if(isNaN(a)||!isFinite(a))throw new Error("aritize expected number as first argument but saw "+a);for(c="return function (",e=") { return fn.apply(this, arguments",f="); }",g="",h=0;a>h;)g+=1>h?"a"+h:", a"+h,h+=1;return b||(e=") { return fn.apply(this, [["+g,f="]]); }"),new Function("fn",c+g+e+f)},b.niladic=function e(b){return arguments.length<1?e:a.isFunction(b)?function(){return b.call(this)}:b},b.monadic=function f(b){return arguments.length<1?f:a.isFunction(b)?function(a){return void 0===a?f(b):b.call(this,a)}:b},b.dyadic=function g(c){return arguments.length<1?g:a.isFunction(c)?function(a,d){return void 0===a?g(c):void 0===d?b.monadic(function(b){return c.call(this,a,b)}):c.call(this,a,d)}:c},b.triadic=function h(c){return arguments.length<1?h:a.isFunction(c)?function(a,d,e){return void 0===a?h(c):void 0===d?b.dyadic(function(b,d){return c.call(this,a,b,d)}):void 0===e?b.monadic(function(b){return c.call(this,a,d,b)}):c.call(this,a,d,e)}:c},b.tetradic=function i(c){return arguments.length<1?i:a.isFunction(c)?function(a,d,e,f){return void 0===a?i(c):void 0===d?b.triadic(function(b,d,e){return c.call(this,a,b,d,e)}):void 0===e?b.dyadic(function(b,e){return c.call(this,a,d,b,e)}):void 0===f?b.monadic(function(b){return c.call(this,a,d,e,b)}):c.call(this,a,d,e,f)}:c},b.polyadic=function j(d){function e(a){return b.aritize(d.length-a.length,!0)(function(){var b=a.concat(c(arguments));return b.length<2?e(b):d.apply(this,b)})}return arguments.length<1?j:a.isFunction(d)?e([]):d},b.variadic=function k(d){var e;return arguments.length<1?k:!a.isFunction(d)||d.length<1?d:(e=d.length,b.aritize(e,!0)(function(){var a=arguments.length>1?c(arguments,0,e-1):[],b=new Array(Math.max(e-arguments.length-1,0)),f=[c(arguments,e-1)];return d.apply(this,a.concat(b).concat(f))}))},b}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["arity"],b);else if("object"==typeof exports)module.exports=b(require("arity"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){function b(a,b){return function(c,d){return a(c(b(d)),d)}}function c(c,d){var e=function(a){return c(a)};return e.get=c,e.set=a.dyadic(d),e.over=a.dyadic(b(d,c)),e}function d(a){return c(function(b){return b[a]},function(b,c){var d=Object.create(c);return d[a]=b,d})}var e={};return e.makeLense=function(a){if(!Array.isArray(a))throw new Error("makeLense() expects argument to be array but saw: "+a);return a.reduce(function(a,b){return a[b]=d(b),a},{})},e}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["./type"],b);else if("object"==typeof exports)module.exports=b(require("type"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){var b={},c=Object.prototype.hasOwnProperty,d=Array.prototype.slice;return b.has=function e(b,d){return arguments.length<1?e:arguments.length<2?function(a){return e(b,a)}:!a.isNil(d)&&c.call(d,""+b)},b.get=function f(b,c){var d;return arguments.length<1?f:arguments.length<2?function(a){return f(b,a)}:(d=""+b,a.isNil(c)||a.isNil(c[d])?null:c[d])},b.pluck=function g(c,d){return arguments.length<1?g:arguments.length<2?function(a){return g(c,a)}:a.isArray(d)?d.map(b.get(c)):b.get(c,d)},b.keys=function h(b){return arguments.length<1?h:a.isNil(b)?[]:Object.keys(b)},b.values=function i(a){return arguments.length<1?i:b.keys(a).map(function(b){return a[b]})},b.methods=function j(c){return arguments.length<1?j:b.keys(c).filter(function(b){return a.isFunction(c[b])})},b.pairs=function k(a){return arguments.length<1?k:b.keys(a).map(function(b){return[b,a[b]]})},b.inverse=function l(c){var d;return arguments.length<1?l:a.isObject(c)?(d={},b.keys(c).reduce(function(a,b){return a[String(c[b])]=b,a},d)):null},b.instance=function(b,c){if(!a.isFunction(b))throw"instance expected Ctor to be function but saw "+b;return void 0!==c&&b.prototype.isPrototypeOf(c)?c:Object.create(b.prototype)},b.factory=function(b){if(!a.isFunction(b))throw"factory expected Ctor to be function but saw "+b;return function(){var a=Object.create(b.prototype);return b.apply(a,arguments),a}},b.extend=function m(c,d){return arguments.length<1?m:arguments.length<2?function(a){return m(c,a)}:a.isNil(c)||!a.isObject(d)?c:b.keys(d).reduce(function(a,b){return a[b]=d[b],a},c)},b.extendWith=function n(a,c){return arguments.length<1?n:arguments.length<2?function(b){return n(a,b)}:b.extend(c,a)},b.inherits=function o(a,c){return arguments.length<1?o:arguments.length<2?function(b){return o(a,b)}:b.extend(b.extend({},a&&a.prototype||{}),c)},b.delegate=function p(b,c,d){return arguments.length<1||!a.isObject(b)?p:arguments.length<2||!a.isObject(c)?function(a,c){return p(b,a,c)}:arguments.length<3||!a.isArray(d)?function(a){return p(b,c,a)}:(d.forEach(function(d){a.isFunction(b[d])&&(c[d]=function(){return b[d].apply(c,arguments)})}),c)},b.forward=function q(b,c,d){return arguments.length<1||!a.isObject(b)?q:arguments.length<2||!a.isObject(c)?function(a,c){return q(b,a,c)}:arguments.length<3||!a.isArray(d)?function(a){return q(b,c,a)}:(d.forEach(function(d){a.isFunction(c[d])&&(b[d]=function(){return c[d].apply(c,arguments)})}),b)},b.immutable=function r(b){return arguments.length<1?r:a.isObject(b)?Object.keys(b).reduce(function(a,c){return Object.defineProperty(a,c,{enumerable:!0,writable:!1,value:b[c]}),a},{}):b},b.fAccess=function s(b){function c(a){return c.o[a]}if(arguments.length<1)return s;if(!a.isObject(b)&&!a.isArray(b))throw"fAccess expected argument to be object but saw "+b;return Object.defineProperty(c,"o",{enumerable:!1,writable:!1,value:b}),c},b.exec=function t(b){var c;if(arguments.length<1)return t;if(!a.isString(b)&&!a.isFunction(b))throw"exec expected argument to be string or function but saw "+b;return c=d.call(arguments,1),function(e){return e?a.isString(b)&&a.isFunction(e[b])?e[b].apply(e,c.concat(d.call(arguments,1))):b.apply(e,c.concat(d.call(arguments,1))):void 0}},b}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["./type"],b);else if("object"==typeof exports)module.exports=b(require("type"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){var b={},c=Array.prototype.slice;return b.toArray=function d(b){return arguments.length<1?d:a.isArray(b)?b:a.isEnumerable(b)?a.isString(b)?b.split(""):a.isObject(b)?Object.keys(b).map(function(a){return b[a]}):c.call(b):[b]},b.first=function e(b){return arguments.length<1?e:a.isSequencial(b)&&b.length?b[0]:b},b.last=function f(b){return arguments.length<1?f:a.isSequencial(b)&&b.length?b[b.length-1]:b},b.head=function g(c){return arguments.length<1?g:a.isSequencial(c)&&c.length?b.toArray(c).slice(0,c.length-1):c},b.tail=function h(c){return arguments.length<1?h:a.isSequencial(c)&&c.length?b.toArray(c).slice(1):c},b.nth=function i(b,c){return arguments.length<1?i:arguments.length<2?function(a){return i(b,a)}:((!a.isNumber(b)||0>b)&&(b=0),a.isSequencial(c)&&c.length>=1?c[b]||null:null)},b.take=function j(c,d){return arguments.length<1?j:arguments.length<2?function(a){return j(c,a)}:(a.isNumber(c)||(c=0),a.isSequencial(d)&&d.length?b.toArray(d).slice(0,Math.min(d.length,c)):d)},b.drop=function k(c,d){return arguments.length<1?k:arguments.length<2?function(a){return k(c,a)}:(a.isNumber(c)||(c=d&&d.length?d.length:1/0),a.isSequencial(d)&&d.length?b.toArray(d).slice(Math.min(d.length,c)):d)},b.append=function l(c,d){return arguments.length<1?l:arguments.length<2?function(a){return l(c,a)}:(c=a.isSequencial(c)?b.toArray(c):[],a.isSequencial(d)?b.toArray(d).concat(c):d)},b.prepend=function m(c,d){return arguments.length<1?m:arguments.length<2?function(a){return m(c,a)}:(c=a.isSequencial(c)?b.toArray(c):[],a.isSequencial(d)?c.concat(b.toArray(d)):d)},b.surround=function n(c,d,e){return arguments.length<1?n:arguments.length<2?function(a,b){return n(c,a,b)}:arguments.length<3?function(a){return n(c,d,a)}:(c=a.isSequencial(c)?b.toArray(c):[],d=a.isSequencial(d)?b.toArray(d):[],a.isSequencial(e)?c.concat(b.toArray(e)).concat(d):e)},b.unique=function o(a){var c;return arguments.length<1?o:(c=[],a=b.toArray(a),a.forEach(function(a){c.indexOf(a)<0&&c.push(a)}),c)},b.flatten=function(){function c(a,b){return a.length<1?b:function(){return Array.isArray(a[0])?c(a[0].concat(a.slice(1)),b):c(a.slice(1),b.concat(a[0]))}}return function d(e){var f=b.toArray(e);if(arguments.length<1)return d;for(f=c(e,[]);a.isFunction(f);)f=f();return f}}(),b.union=function p(a,c){return arguments.length<1?p:arguments.length<2?function(b){return p(a,b)}:(a=b.toArray(a),c=b.toArray(c),b.unique(a.concat(c)))},b.intersect=function q(a,c){return arguments.length<1?q:arguments.length<2?function(b){return q(a,b)}:(a=b.unique(b.toArray(a)),c=b.unique(b.toArray(c)),c.length>a.length?c.filter(function(b){return a.indexOf(b)>=0}):a.filter(function(a){return c.indexOf(a)>=0}))},b.difference=function r(a,c){return arguments.length<1?r:arguments.length<2?function(b){return r(a,b)}:(a=b.toArray(a),c=b.toArray(c),b.union(a,c).filter(function(b){return a.indexOf(b)<0||c.indexOf(b)<0}))},b}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["./type","./arity"],b);else if("object"==typeof exports)module.exports=b(require("type"),require("arity"));else{c=b(a.funkyJS,a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a,b){var c={},d=function(a){return[].slice.apply(a,[].slice.call(arguments,1))};return c.flip=function e(c){function f(a){return b.aritize(c.length-a.length,!0)(function(){var b=a.concat(d(arguments));return b.length<c.length?f(b):c.apply(this,b.reverse())})}if(arguments.length<1)return e;if(!a.isFunction(c))throw"Expected to wrap a function with flip but saw "+c;return f([])},c.fluent=function f(c){if(arguments.length<1)return f;if(!a.isFunction(c))throw"Expected to wrap a function with fluent but saw "+c;return b.aritize(c.length,!0)(function(){return c.apply(this,arguments),this})},c.guard=function g(c,d){if(arguments.length<1)return g;if(arguments.length<2)return function(a){return g(c,a)};if(!a.isFunction(c))throw"Expected to guard with a function but saw "+c;if(!a.isFunction(d))throw"Expected to guard a function but saw "+d;return b.aritize(d.length,!0)(function(){return c.apply(null,arguments)?d.apply(this,arguments):null})},c.maybe=function h(c){if(arguments.length<1)return h;if(!a.isFunction(c))throw"Expected to maybe execute a function but saw "+c;return b.aritize(c.length)(function(b){return b.some(a.isNil)?null:c.apply(this,b)})},c.not=function i(c){if(arguments.length<1)return i;if(!a.isFunction(c))throw"Expected to negate a function but saw "+c;return b.aritize(c.length,!0)(function(){return!c.apply(this,arguments)})},c.debounce=function j(c,d){var e;if(arguments.length<1)return j;if(arguments.length<2){if(a.isInt32(c))return function(a){return j(c,a)};if(!a.isFunction(c))throw"Expected to debounce a function but saw "+c+" / "+d;d=c,c=250}if(!a.isInt32(c))throw"Ticks to debounce must be given as integer";if(!a.isFunction(d))throw"Expected to debounce a function but instead saw "+d;return b.aritize(d.length)(function(){var a=arguments;clearTimeout(e),e=setTimeout(function(){d.apply(this,a)}.bind(this),c)})},c.memoize=function k(b){function c(){var d=JSON.stringify(arguments);return a.isNil(c.cache[d])&&(c.cache[d]=b.apply(this,arguments)),c.cache[d]}if(arguments.length<1)return k;if(!a.isFunction(b))throw"Expected to memoize a function but saw "+b;return c.cache={},c},c.curry=function l(b){function c(a){return function(d){var e=a.concat(d);return e.length<b.length?c(e):b.apply(this,e)}}if(arguments.length<1)return l;if(!a.isFunction(b))throw"Expected to curry a function but saw "+b;return c(arguments.length>1?[arguments[1]]:[])},c.curryRight=function m(b){function c(a){return function(d){var e=a.concat(d);return e.length<b.length?c(e):b.apply(this,e.reverse())}}if(arguments.length<1)return m;if(!a.isFunction(b))throw"Expected to curryRight a function but saw "+b;return c(arguments.length>1?[arguments[1]]:[])},c.partial=function n(c,e){function f(a,d){return b.aritize(d)(function(b){var e,g;return g=d,e=a.map(function(a){var c;return void 0!==a?a:(c=b.shift(),void 0!==c&&(g-=1),c)}),g>0?f(e,g):c.apply(this,e)})}var g,h;if(arguments.length<1)return n;if(!a.isFunction(c))throw"partial expected to see a function but saw "+c;for(arguments.length<2?e=[]:Array.isArray(e)||(e=d(arguments,1)),g=c.length,h=0;h<c.length;h+=1)void 0!==e[h]?g-=1:e[h]=void 0;return f(e,g)},c.partialRight=function o(c,e){function f(a,d){return b.aritize(d)(function(b){var e,g;return g=d,e=a.map(function(a){var c;return void 0!==a?a:(c=b.shift(),void 0!==c&&(g-=1),c)}),g>0?f(e,g):c.apply(this,e.reverse())})}var g,h;if(arguments.length<1)return o;if(!a.isFunction(c))throw"partialRight expected to see a function but saw "+c;for(arguments.length<2?e=[]:Array.isArray(e)||(e=d(arguments,1)),g=c.length,h=0;h<c.length;h+=1)void 0!==e[h]?g-=1:e[h]=void 0;return f(e,g)},c.call=function p(c){var e;if(void 0===c)return p;if(!a.isFunction(c))throw"call expected to see a function but saw "+c;return e=d(arguments,1),b.aritize(c.length+1,!0)(function(a){return c.apply(a,e.concat(d(arguments,1)))})},c.callRight=function q(c){var e;if(void 0===c)return q;if(!a.isFunction(c))throw"callRight expected to see a function but saw "+c;return e=d(arguments,1),b.aritize(c.length+1,!0)(function(a){return c.apply(a,e.concat(d(arguments,1)).reverse())})},c.defaults=function r(c,d){if(arguments.length<1)return r;if(!a.isFunction(c))throw"defaults expected to see a function but saw "+c;if(!a.isArray(d))return c;if(d.length<c.length)throw"defaults misses parameters, expected "+c.length+" but saw "+d.length;return b.aritize(c.length)(function(b){return c.apply(this,d.map(function(c,d){return d<b.length&&!a.isVoid(b[d])?b[d]:c}))})},c}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["./type","./arity"],b);else if("object"==typeof exports)module.exports=b(require("type"),require("arity"));else{c=b(a.funkyJS,a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a,b){var c={},d=function(a){return[].slice.apply(a,[].slice.call(arguments,1))},e=function(a,b){return!!b.apply(this,a)};return c.compose=function f(){var c;if(arguments.length<1)return f;if(c=d(arguments).filter(a.isFunction),c.length<1)throw"Expected at least one function to compose but found none";return b.aritize(c[c.length-1].length)(function(a){return c.reduceRight(function(a,b){return[b.apply(this,a)]},a,this)[0]})},c.pipe=function g(){var c;if(arguments.length<1)return g;if(c=d(arguments).filter(a.isFunction),c.length<1)throw"Expected at least one function to pipe but found none";return b.aritize(c[0].length)(function(a){return c.reduce(function(a,b){return[b.apply(this,a)]},a,this)[0]})},c.and=function h(){var c,f;if(arguments.length<1)return h;if(c=d(arguments).filter(a.isFunction),f=Math.max.apply(Math,c.map(function(a){return a.length})),c.length<1)throw"and expected at least two functions but found none";return b.aritize(f)(function(a){return c.every(e.bind(this,a))})},c.or=function i(){var c,f;if(arguments.length<1)return i;if(c=d(arguments).filter(a.isFunction),f=Math.max.apply(Math,c.map(function(a){return a.length})),c.length<1)throw"or expected at least two functions but found none";return b.aritize(f)(function(a){return c.some(e.bind(this,a))})},c.splat=function j(c){if(arguments.length<1)return j;if(!a.isArray(c)||!c.every(a.isFunction))throw"splat expects arguments to be array of functions but saw "+c;return b.aritize(c.reduce(function(a,b){return Math.max(a,b.length)},0))(function(a){return c.map(function(b){return b.apply(this,a)},this)})},c}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["../type"],b);else if("object"==typeof exports)module.exports=b(require("type"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){function b(a,b){return function(c){if(!b(c))throw"enforce(:arg, :type) :: "+c+"is not of type "+a;return c}}var c={};return c.beNil=b("null or undefined",a.isNil),c.beNull=b("null",a.isNull),c.beVoid=b("undefined",a.isVoid),c.beString=b("string",a.isString),c.beBool=b("boolean",a.isBool),c.beNumber=b("int32 or float32",a.isNumber),c.beInt32=b("int32",a.isInt32),c.beFloat32=b("float32",a.isFloat32),c.beFunction=b("function",a.isFunction),c.beArray=b("array",a.isArray),c.beObject=b("object",a.isObject),c.beDate=b("date",a.isDate),c.beRegex=b("regexp",a.isRegex),c.beNode=b("DOMNode",a.isNode),c.beNodeList=b("DOMNodeList",a.isNodeList),c.beSequencial=b("sequencial",a.isSequencial),c.beEnumerable=b("enumerable",a.isEnumerable),c}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["../type"],b);else if("object"==typeof exports)module.exports=b(require("type"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){var b={};return b.forEachWith=function c(b,d){if(!a.isFunction(b))throw"forEachWith expects fn to be function but saw "+b;if(void 0===d)return function(a){return c(b,a)};if(d=a.isSequencial(d)?[].slice.call(d):null,!a.isArray(d))throw"forEachWith expects list to be array but saw "+d;return d.forEach(b),d},b.mapWith=function d(b,c){if(!a.isFunction(b))throw"mapWith expects fn to be function but saw "+b;if(void 0===c)return function(a){return d(b,a)};if(c=a.isSequencial(c)?[].slice.call(c):null,!a.isArray(c))throw"mapWith expects list to be array but saw "+c;return c.map(b)},b.filterWith=function e(b,c){if(!a.isFunction(b))throw"filterWith expects fn to be function but saw "+b;if(void 0===c)return function(a){return e(b,a)};if(c=a.isSequencial(c)?[].slice.call(c):null,!a.isArray(c))throw"filterWith expects list to be array but saw "+c;return c.filter(b)},b.foldWith=function f(b,c,d){if(!a.isFunction(b))throw"foldWith expects fn to be function but saw "+b;if(void 0===c)return function(a,c){return f(b,a,c)};if(void 0===d)return function(a){return f(b,c,a)};if(c=a.isSequencial(c)?[].slice.call(c):null,!a.isArray(c))throw"foldWith expects list to be array but saw "+c;return c.reduce(b,d)},b.foldRightWith=function g(b,c,d){if(!a.isFunction(b))throw"foldRightWith expects fn to be function but saw "+b;if(void 0===c)return function(a,c){return g(b,a,c)};if(void 0===d)return function(a){return g(b,c,a)};if(c=a.isSequencial(c)?[].slice.call(c):null,!a.isArray(c))throw"foldRightWith expects list to be array but saw "+c;return c.reduceRight(b,d)},b.everyWith=function h(b,c){if(!a.isFunction(b))throw"everyWith expects fn to be function but saw "+b;if(void 0===c)return function(a){return h(b,a)};if(c=a.isSequencial(c)?[].slice.call(c):null,!a.isArray(c))throw"everyWith expects list to be array but saw "+c;return c.every(b)},b.someWith=function i(b,c){if(!a.isFunction(b))throw"someWith expects fn to be function but saw "+b;if(void 0===c)return function(a){return i(b,a)};if(c=a.isSequencial(c)?[].slice.call(c):null,!a.isArray(c))throw"someWith expects list to be array but saw "+c;return c.some(b)},b}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["../type","../arity"],b);else if("object"==typeof exports)module.exports=b(require("type"),require("arity"));else{c=b(a.funkyJS,a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a,b){var c={},d=function(a){return[].slice.apply(a,[].slice.call(arguments,1))};return c.composeAsync=function e(){var c;if(arguments.length<1)return e;if(c=d(arguments).filter(a.isFunction),c.length<1)throw"Expected at least one function to compose but found none";return b.triadic(function(a,b,d){var e=this;c.reduceRight(function(a,b){return function(c,d,f){b.call(e,c,function(b){a.call(e,b,d,f)},f)}}).call(this,a,b,d)})},c.pipeAsync=function f(){var c;if(arguments.length<1)return f;if(c=d(arguments).filter(a.isFunction),c.length<1)throw"Expected at least one function to pipe but found none";return b.triadic(function(a,b,d){var e=this;c.reduce(function(a,b){return function(c,d,f){a.call(e,c,function(a){b.call(e,a,d,f)},f)}}).call(this,a,b,d)})},c.liftAsync=function g(c){if(arguments.length<1)return g;if(!a.isFunction(c))throw"liftAsync can only be called on functions";return b.triadic(function(b,d,e){if(!a.isFunction(d))throw"Invalid continuation function: "+d;try{d.call(this,c.call(this,b))}catch(f){a.isFunction(e)&&e(f)}})},c.sideEffect=function h(c){if(arguments.length<1)return h;if(!a.isFunction(c))throw"sideEffect can only be called on functions";return b.triadic(function(b,d,e){if(!a.isFunction(d))throw"Invalid continuation function: "+d;try{c.call(this,b)}catch(f){a.isFunction(e)&&e(f)}finally{d.call(this,b)}})},c}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["../type","../arity"],b);else if("object"==typeof exports)module.exports=b(require("type"),require("arity"));else{c=b(a.funkyJS,a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a,b){function c(a){return function(b,c){if(a[c](b))return!0;throw"passInputContracts(:item) mismatches contract "+a[c]}}function d(b){return b&&a.isArray(b.args)&&a.isFunction(b.proc)}function e(a){return function(b,c){return!!b(a[c])}}var f={};return f.hom=function g(d,e){if(void 0===d)return g;if(void 0===e)return function(a){return g(d,a)};if(!a.isArray(d)||!d.every(a.isFunction))throw"hom expects ins to be array but saw "+d;if(!a.isFunction(e))throw"hom expects out to be function but saw "+e;return function(f){if(!a.isFunction(f))throw"hom->f expects fn to be function but saw "+f;if(f.length!==d.length)throw"hom->f aritiy of fn mismatches inputs length";return b.aritize(d.length)(function(a){var b;if(a.every(c(d))&&(b=f.apply(this,a)),!e(b))throw"hom->f->f-> output mismatches contract: "+b;return b})}},f.multiDispatch=function(b){var c;if(!a.isArray(b))throw"multiDispatch expects argument to be array but saw "+b;return c=b.filter(d),function(){var b,d,f,g,h=[].slice.call(arguments);for(g=0,f=c.length;f>g&&(d=c[g],d);g+=1)if(!(d.args.length>0&&h.length!==d.args.length)&&d.args.every(e(h))&&(b=d.proc.apply(this,h),a.isFunction(d.out)&&d.out.call(this,b)))return b;return b}},f.displaceArgs=function h(b,c){if(!a.isFunction(b))throw"displaceArgs expects argument to be function but saw "+b;if(void 0===c)return function(a){return h(b,a)};if(!a.isArray(c))throw"displaceArgs expects second argument to be array but saw "+c;if(b.length<c.length)throw"displaceArgs(:array, :fn) Given functions arity is to low";return function(){var a=arguments,d=[];return c.forEach(function(b,c){d[c]=a[b]}),b.apply(this,d)}},f}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["../type","../array"],b);else if("object"==typeof exports)module.exports=b(require("type"),require("array"));else{c=b(a.funkyJS,a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){var b={};return b.numIterator=function(b,c){var d=a.isNumber(b)?b:0,e="number"!=typeof c||isNaN(c)?1/0:c,f=1;return d>e&&(f=-1),{next:function(){var a=d;return d+=f,a===e?{done:!0,value:function(){return void 0}}:{done:!1,value:function(){return a}}}}},b.seqIterator=function(b){var c;if(!a.isSequencial(b))throw"seqIterator expected argument to be sequencial but saw "+b;return c=-1,{next:function(){return c+=1,c>=b.length?{done:!0,value:function(){return void 0}}:{done:!1,value:function(){return b[c]}}}}},b.objIterator=function(b){var c,d;if(!a.isObject(b))throw"objIterator expected argument to be object but saw "+b;return c=Object.keys(b),d=-1,{next:function(){return d+=1,d>=c.length?{done:!0,value:function(){return void 0}}:{done:!1,value:function(){return b[c[d]]}}}}},b.mapLazy=function c(b,d){if("function"!=typeof b)throw"mapLazy expected first argument to be function but saw "+b;if(void 0===d)return function(a){return c(b,a)};if(!a.isObject(d)||!a.isFunction(d.next))throw"mapLazy expected second argument to be iterator but saw "+d;return{next:function(){var a=d.next();return a.done?{done:!0,value:function(){return void 0}}:{done:!1,value:function(){return b(a.value())}}}}},b.filterLazy=function d(b,c){if("function"!=typeof b)throw"filterLazy expected first argument to be function but saw "+b;if(void 0===c)return function(a){return d(b,a)};if(!a.isObject(c)||!a.isFunction(c.next))throw"filterLazy expected second argument to be iterator but saw "+c;return{next:function(){for(var a=c.next();!a.done&&!b(a.value());)a=c.next();return a.done?{done:!0,value:function(){return void 0}}:{done:!1,value:function(){return a.value()}}}}},b.foldLazy=function e(b,c,d){var f;if("function"!=typeof b)throw"foldLazy expected first argument to be function but saw "+b;if(void 0===c)return function(a,c){return e(b,a,c)};if(void 0===d)return function(a){return e(b,c,a)};if(!a.isObject(c)||!a.isFunction(c.next))throw"foldLazy expected second argument to be iterator but saw "+c;return f=d,{next:function(){var a=c.next();return a.done?{done:!0,value:function(){return void 0}}:{done:!1,value:function(){return f=b(f,a.value())}}}}},b}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["../type"],b);else if("object"==typeof exports)module.exports=b(require("type"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){var b={},c=function(a){this.exec=a};return c.is=function(a){return c.prototype.isPrototypeOf(a)},b.thunk=function(b){if(!a.isFunction(b))throw"Thunks cannot contain anything but functions";return new c(b)},b.trampoline=function(a){for(var b=a;c.is(b);)b=b.exec();return b},b}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["../type"],b);else if("object"==typeof exports)module.exports=b(require("type"));else{c=b(a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a){var b={};return b.trimLeft=function(b){return a.isString(b)?b.replace(/^\s+/g,""):b},b.trimRight=function(b){return a.isString(b)?b.replace(/\s+$/g,""):b},b.trim=function(c){return a.isString(c)?b.trimLeft(b.trimRight(c)):c},b.camelize=function(b){return a.isString(b)?b.replace(/-[A-Za-z]|_[A-Za-z]/g,function(a){return a[1].toUpperCase()+a.slice(2).toLowerCase()}):b},b.dasherize=function(b){return a.isString(b)?b.replace(/_[A-Za-z]|[A-Z]/g,function(a){return"-"+("_"===a[0]?a.slice(1).toLowerCase():a.toLowerCase())}):b},b.underscore=function(b){return a.isString(b)?b.replace(/-[A-Za-z]|[A-Z]/g,function(a){return"_"+("-"===a[0]?a.slice(1).toLowerCase():a.toLowerCase())}):b},b.splitParse=function c(b,d,e){if(!a.isFunction(b))throw"splitParse expects fn to be function but saw "+b;if(void 0===d)return function(a,d){return c(b,a,d)};if(!a.isString(d)&&!a.isRegex(d))throw"splitParse expects delimiter to be string or regexp but saw "+d;if(void 0===e)return function(a){return c(b,d,a)};if(!a.isString(e))throw"splitParse expects str to be string but saw "+e;return e.split(d).map(b)},b.substitude=function d(b,c){var e;if(!a.isString(b))throw"substitude expects str to be string but saw "+b;if(void 0===c)return function(a){return d(b,a)};if(!a.isObject(c))throw"substitude expects data to be object but saw "+c;return e=b,Object.keys(c).forEach(function(a){var b=new RegExp("(\\$\\{("+a+")\\})+?","g");e=e.replace(b,function(a){var b=a.slice(2,a.length-1);return c.hasOwnProperty(b)?c[b]:""})}),e},b}),function(a,b){var c,d;if("function"==typeof define&&define.amd)define(["../type","../arity"],b);else if("object"==typeof exports)module.exports=b(require("type"),require("arity"));else{c=b(a.funkyJS,a.funkyJS);for(d in c)c.hasOwnProperty(d)&&(a.funkyJS[d]=c[d])}}(this,function(a,b){function c(a,b){return b.__funkyAdviced__||Object.defineProperties(b,{__funkyAdviced__:{enumerable:!1,writable:!1,value:!0},befores:{enumerable:!1,writable:!1,value:[]},body:{enumerable:!1,writable:!1,value:a},throwings:{enumerable:!1,writable:!1,value:[]},afters:{enumerable:!1,writable:!1,value:[]},adviceBefore:{enumerable:!1,writable:!1,value:function(a){return this.befores.unshift(a),this}},adviceError:{enumerable:!1,writable:!1,value:function(a){return this.throwings.push(a),this}},adviceAfter:{enumerable:!1,writable:!1,value:function(a){return this.afters.push(a),this}}}),b}var d={};return d.advisable=function e(d){var f;if(arguments.length<1)return e;if(!a.isFunction(d))throw"advisable expects fn to be function but saw "+d;return f=c(d,b.aritize(d.length)(function(b){var c=b,d=this;try{f.befores.forEach(function(b){var e=b.apply(d,c);a.isArray(e)&&(c=e)}),c=[f.body.apply(this,c),c],f.afters.forEach(function(a){a.apply(d,c)})}catch(e){return f.throwings.forEach(function(a){a.call(d,e,c)})}return c[0]}))},d});